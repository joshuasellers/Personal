#lang br
(require brag/support)

(define (make-tokenizer port)
  (define (next-token)
    (define ac-lexer
      (lexer
       [whitespace (token lexeme #:skip? #t)]
       ["\n" (token 'NEWLINE lexeme)]
       [digits (token 'INTEGER (string->number lexeme))]
       [date (token 'DATE lexeme)]
       [account (token 'ACCOUNT lexeme)]
       [any-char (next-token)]))
    (ac-lexer port))  
  next-token)